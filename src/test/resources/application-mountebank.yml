spring:
  datasource:
    url: jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    username: sa
    password: password
    driver-class-name: org.h2.Driver
  
  jpa:
    hibernate:
      ddl-auto: validate
    show-sql: false
    open-in-view: false
    database: h2
  
  flyway:
    enabled: true
    locations: classpath:db/migration
    baseline-on-migrate: true

# WireMock configuration for S3 service virtualization
aws:
  s3:
    endpoint: http://localhost:8089  # WireMock S3 mock endpoint
    bucket-name: test-bucket
    region: us-east-1
    access-key: mock-access-key
    secret-key: mock-secret-key

# WireMock server configuration
wiremock:
  port: 8089  # S3 service mock port
  host: localhost

# Logging configuration for tests
logging:
  level:
    org.springframework.web: INFO
    com.lithespeed: DEBUG
    com.github.tomakehurst.wiremock: DEBUG
    root: WARN

# Test-specific configurations
test:
  aws:
    s3:
      enabled: true
      mock: true
